<!DOCTYPE html>
<html lang="en">
    <head>
    <style>
        html,body{
        width: 100%;
        height: 100%;
        background-color: grey;}
        #container{
        width: 40%;
        height: 50%;
        margin-left: 30%;
        margin-top: 5%;
        padding-bottom: 5%;
        
        border: 3px solid grey;}
        table {width: 70%;margin-left: 15%;height: 70%;margin-top: 8%;border-collapse: collapse;background-color:silver;}
        td {width: 33.333%;text-align: center;font-size: 3vw;padding: 0%; color:black;border: 4px solid #222;}
        td::after {content: "";display: block;}
        
        td:hover{background-color: rgb(153,221,255); cursor: crosshair;color:black;}
        .won{text-align: center; margin-top: 2%;font-size: 6vw;color: white; text-shadow:2px solid  white;text-shadow: -8px 11px 5px #CE5937;}
        .score{width: auto; margin-left: 10%; margin-right: 10%; background-color: silver;border: 2px solid black;border-radius: 25%;}
        .score p{display: inline;font-size: 3vw; color: black}
        .reset{text-align: center; margin-left: 30%; margin-bottom: 4%;width: 40%;height: 10%;background-color:#FF3333;font-size: 4vw; border: 2px solid black; border-radius: 40%; margin-top: 3%;font-family:fantasy; }
        .reset:hover{background-color: silver;}
        .score2{margin-left: 55%;}
        @media only screen and (max-width:600px ) {
          html,body{height: 800px; font-family:fantasy;}
          .score{width:95%; margin: 0%; padding-top: 11%;height: 15%;border-radius: 7%; text-align: center;justify-content: center;}
          .score p{  font-size: x-large; }
          .score2{margin-left: 20%;}
          #container{ width: 100%; margin: 5% 0% auto 0% ;}
          table{margin-left: 5%; width: 87%; margin-right: 5%;}
          td{font-size: xx-large; text-shadow: 2px solid black;}
          .reset{ margin:7% 20% auto 20%; width: 60%; height: 15%; font-size: xx-large;}
          .won{ font-size: 15vw; margin-top: 5%;}

        }

        
        




        </style>
    </head>
    <body>
      <div class='score'> 
        <p class="score1">Your Score:</p>
        <p class="yourscore"></p>
        <P class= 'score2'>Ai Score:</P>
        <p class="aiscore"></p>
      </div>
        <div id="container">
        <table id="board">

        <tr>
          <td class='button1' onclick="buttonclick('.button1')">ㅤ</td>
          <td class='button2' onclick="buttonclick('.button2')">ㅤ</td>
          <td class='button3' onclick="buttonclick('.button3')">ㅤ</td>
        </tr>
        <tr>
          <td class='button4' onclick="buttonclick('.button4')">ㅤ</td>
          <td class='button5' onclick="buttonclick('.button5')">ㅤ</td>
          <td class='button6' onclick="buttonclick('.button6')">ㅤ</td>
        </tr>
        <tr>
          <td class='button7' onclick="buttonclick('.button7')">ㅤ</td>
          <td class='button8' onclick="buttonclick('.button8')">ㅤ</td>
          <td class='button9' onclick="buttonclick('.button9')">ㅤ</td>
        </tr>
        </table>
        <p class="won"></p>
        </div>
        <button class="reset" onclick="resetclick()"> Reset</button>
        
          

    <script>
    let turn=1
    let scoreyou=0;
    let scoreai=0;
    let condition= true
    const generateRandomNumber = (min, max) =>  {
    return Math.floor(Math.random() * (max - min) + min);
    };
    
    function resetclick(){

      
      document.querySelector('.button1').innerHTML='ㅤ';
      document.querySelector('.button2').innerHTML='ㅤ';
      document.querySelector('.button3').innerHTML='ㅤ';
      document.querySelector('.button4').innerHTML='ㅤ';
      document.querySelector('.button5').innerHTML='ㅤ';
      document.querySelector('.button6').innerHTML='ㅤ';
      document.querySelector('.button7').innerHTML='ㅤ';
      document.querySelector('.button8').innerHTML='ㅤ';
      document.querySelector('.button9').innerHTML='ㅤ';
      document.getElementById('board').style.background= "silver";
      document.querySelector('.won').innerHTML='';


      condition=true
      if (turn==0){
      Aifunctionality()}
      
    }
    function buttonclick(button){
      
        let D= document.querySelector(button)
        if (condition){
        if(D.innerHTML=='ㅤ'){
        D.innerHTML='X'
        checkwinner('X')
        if (condition){
        Aifunctionality()
        
        checkwinner('O')
        }}
      }
    }
    function checkwinner(sign){
        if ((document.querySelector('.button1').innerHTML==sign && document.querySelector('.button2').innerHTML==sign && document.querySelector('.button3').innerHTML==sign) || (document.querySelector('.button4').innerHTML==sign && document.querySelector('.button5').innerHTML==sign && document.querySelector('.button6').innerHTML==sign) || (document.querySelector('.button7').innerHTML==sign && document.querySelector('.button8').innerHTML==sign && document.querySelector('.button9').innerHTML==sign) || (document.querySelector('.button1').innerHTML==sign && document.querySelector('.button4').innerHTML==sign && document.querySelector('.button7').innerHTML==sign) || (document.querySelector('.button5').innerHTML==sign && document.querySelector('.button2').innerHTML==sign && document.querySelector('.button8').innerHTML==sign) ||(document.querySelector('.button9').innerHTML==sign && document.querySelector('.button6').innerHTML==sign && document.querySelector('.button3').innerHTML==sign) || (document.querySelector('.button1').innerHTML==sign && document.querySelector('.button5').innerHTML==sign && document.querySelector('.button9').innerHTML==sign) || (document.querySelector('.button7').innerHTML==sign && document.querySelector('.button5').innerHTML==sign && document.querySelector('.button3').innerHTML==sign)) {
        condition=false
        if (sign=='O'){
        document.getElementById('board').style.background= "red";
        document.querySelector('.won').innerHTML='Ai Won!!';
        }else{
        document.getElementById('board').style.background= "green";
        document.querySelector('.won').innerHTML='You Won!!';
        }
        
        if (turn==1){turn=0}else{turn=1}
        if (sign=='X'){
          scoreyou++;
          document.querySelector('.yourscore').innerHTML=scoreyou;
        }
        else{
          scoreai++
          document.querySelector('.aiscore').innerHTML= scoreai;}}
       
      else if (document.querySelector('.button1').innerHTML!='ㅤ' && document.querySelector('.button2').innerHTML!='ㅤ' && document.querySelector('.button3').innerHTML!='ㅤ' && document.querySelector('.button4').innerHTML!='ㅤ' && document.querySelector('.button5').innerHTML!='ㅤ' && document.querySelector('.button6').innerHTML!='ㅤ' && document.querySelector('.button7').innerHTML!='ㅤ' && document.querySelector('.button8').innerHTML!='ㅤ' && document.querySelector('.button9').innerHTML!='ㅤ' ){
        condition=false
        document.getElementById('board').style.background= 'silver';
        document.querySelector('.won').innerHTML='Draw';
        if (turn==1){turn=0}else {turn=1}}
        
      }
      
    function Aifunctionality(){
      if (document.querySelector('.button1').innerHTML=='O' && document.querySelector('.button2').innerHTML=='O' && document.querySelector('.button3').innerHTML=='ㅤ' ){ document.querySelector('.button3').innerHTML='O'}
      else if (document.querySelector('.button1').innerHTML=='O' && document.querySelector('.button3').innerHTML=='O' && document.querySelector('.button2').innerHTML=='ㅤ' ){ document.querySelector('.button2').innerHTML='O'}
      else if (document.querySelector('.button3').innerHTML=='O' && document.querySelector('.button2').innerHTML=='O' && document.querySelector('.button1').innerHTML=='ㅤ' ){ document.querySelector('.button1').innerHTML='O'}
      else if (document.querySelector('.button4').innerHTML=='O' && document.querySelector('.button5').innerHTML=='O' && document.querySelector('.button6').innerHTML=='ㅤ' ){ document.querySelector('.button6').innerHTML='O'}
      else if (document.querySelector('.button4').innerHTML=='O' && document.querySelector('.button6').innerHTML=='O' && document.querySelector('.button5').innerHTML=='ㅤ' ){ document.querySelector('.button5').innerHTML='O'}
      else if (document.querySelector('.button5').innerHTML=='O' && document.querySelector('.button6').innerHTML=='O' && document.querySelector('.button4').innerHTML=='ㅤ' ){ document.querySelector('.button4').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='O' && document.querySelector('.button8').innerHTML=='O' && document.querySelector('.button9').innerHTML=='ㅤ' ){ document.querySelector('.button9').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='O' && document.querySelector('.button9').innerHTML=='O' && document.querySelector('.button8').innerHTML=='ㅤ' ){ document.querySelector('.button8').innerHTML='O'}
      else if (document.querySelector('.button8').innerHTML=='O' && document.querySelector('.button9').innerHTML=='O' && document.querySelector('.button7').innerHTML=='ㅤ' ){ document.querySelector('.button7').innerHTML='O'}
      else if (document.querySelector('.button1').innerHTML=='O' && document.querySelector('.button4').innerHTML=='O' && document.querySelector('.button7').innerHTML=='ㅤ' ){ document.querySelector('.button7').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='O' && document.querySelector('.button1').innerHTML=='O' && document.querySelector('.button4').innerHTML=='ㅤ' ){ document.querySelector('.button4').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='O' && document.querySelector('.button4').innerHTML=='O' && document.querySelector('.button1').innerHTML=='ㅤ' ){ document.querySelector('.button1').innerHTML='O'}
      else if (document.querySelector('.button2').innerHTML=='O' && document.querySelector('.button5').innerHTML=='O' && document.querySelector('.button8').innerHTML=='ㅤ' ){ document.querySelector('.button8').innerHTML='O'}
      else if (document.querySelector('.button8').innerHTML=='O' && document.querySelector('.button2').innerHTML=='O' && document.querySelector('.button5').innerHTML=='ㅤ' ){ document.querySelector('.button5').innerHTML='O'}
      else if (document.querySelector('.button8').innerHTML=='O' && document.querySelector('.button5').innerHTML=='O' && document.querySelector('.button2').innerHTML=='ㅤ' ){ document.querySelector('.button2').innerHTML='O'}
      else if (document.querySelector('.button3').innerHTML=='O' && document.querySelector('.button6').innerHTML=='O' && document.querySelector('.button9').innerHTML=='ㅤ' ){ document.querySelector('.button9').innerHTML='O'}
      else if (document.querySelector('.button9').innerHTML=='O' && document.querySelector('.button6').innerHTML=='O' && document.querySelector('.button3').innerHTML=='ㅤ' ){ document.querySelector('.button3').innerHTML='O'}
      else if (document.querySelector('.button9').innerHTML=='O' && document.querySelector('.button3').innerHTML=='O' && document.querySelector('.button6').innerHTML=='ㅤ' ){ document.querySelector('.button6').innerHTML='O'}
      else if (document.querySelector('.button1').innerHTML=='O' && document.querySelector('.button5').innerHTML=='O' && document.querySelector('.button9').innerHTML=='ㅤ' ){ document.querySelector('.button9').innerHTML='O'}
      else if (document.querySelector('.button5').innerHTML=='O' && document.querySelector('.button9').innerHTML=='O' && document.querySelector('.button1').innerHTML=='ㅤ' ){ document.querySelector('.button1').innerHTML='O'}
      else if (document.querySelector('.button1').innerHTML=='O' && document.querySelector('.button9').innerHTML=='O' && document.querySelector('.button5').innerHTML=='ㅤ' ){ document.querySelector('.button5').innerHTML='O'}
      else if (document.querySelector('.button3').innerHTML=='O' && document.querySelector('.button5').innerHTML=='O' && document.querySelector('.button7').innerHTML=='ㅤ' ){ document.querySelector('.button7').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='O' && document.querySelector('.button3').innerHTML=='O' && document.querySelector('.button5').innerHTML=='ㅤ' ){ document.querySelector('.button5').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='O' && document.querySelector('.button5').innerHTML=='O' && document.querySelector('.button3').innerHTML=='ㅤ' ){ document.querySelector('.button3').innerHTML='O'}
      // here starts to search for x
      else if (document.querySelector('.button1').innerHTML=='X' && document.querySelector('.button2').innerHTML=='X' && document.querySelector('.button3').innerHTML=='ㅤ' ){ document.querySelector('.button3').innerHTML='O'}
      else if (document.querySelector('.button1').innerHTML=='X' && document.querySelector('.button3').innerHTML=='X' && document.querySelector('.button2').innerHTML=='ㅤ' ){ document.querySelector('.button2').innerHTML='O'}
      else if (document.querySelector('.button3').innerHTML=='X' && document.querySelector('.button2').innerHTML=='X' && document.querySelector('.button1').innerHTML=='ㅤ' ){ document.querySelector('.button1').innerHTML='O'}
      else if (document.querySelector('.button4').innerHTML=='X' && document.querySelector('.button5').innerHTML=='X' && document.querySelector('.button6').innerHTML=='ㅤ' ){ document.querySelector('.button6').innerHTML='O'}
      else if (document.querySelector('.button4').innerHTML=='X' && document.querySelector('.button6').innerHTML=='X' && document.querySelector('.button5').innerHTML=='ㅤ' ){ document.querySelector('.button5').innerHTML='O'}
      else if (document.querySelector('.button5').innerHTML=='X' && document.querySelector('.button6').innerHTML=='X' && document.querySelector('.button4').innerHTML=='ㅤ' ){ document.querySelector('.button4').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='X' && document.querySelector('.button8').innerHTML=='X' && document.querySelector('.button9').innerHTML=='ㅤ' ){ document.querySelector('.button9').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='X' && document.querySelector('.button9').innerHTML=='X' && document.querySelector('.button8').innerHTML=='ㅤ' ){ document.querySelector('.button8').innerHTML='O'}
      else if (document.querySelector('.button8').innerHTML=='X' && document.querySelector('.button9').innerHTML=='X' && document.querySelector('.button7').innerHTML=='ㅤ' ){ document.querySelector('.button7').innerHTML='O'}
      else if (document.querySelector('.button1').innerHTML=='X' && document.querySelector('.button4').innerHTML=='X' && document.querySelector('.button7').innerHTML=='ㅤ' ){ document.querySelector('.button7').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='X' && document.querySelector('.button1').innerHTML=='X' && document.querySelector('.button4').innerHTML=='ㅤ' ){ document.querySelector('.button4').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='X' && document.querySelector('.button4').innerHTML=='X' && document.querySelector('.button1').innerHTML=='ㅤ' ){ document.querySelector('.button1').innerHTML='O'}
      else if (document.querySelector('.button2').innerHTML=='X' && document.querySelector('.button5').innerHTML=='X' && document.querySelector('.button8').innerHTML=='ㅤ' ){ document.querySelector('.button8').innerHTML='O'}
      else if (document.querySelector('.button8').innerHTML=='X' && document.querySelector('.button2').innerHTML=='X' && document.querySelector('.button5').innerHTML=='ㅤ' ){ document.querySelector('.button5').innerHTML='O'}
      else if (document.querySelector('.button8').innerHTML=='X' && document.querySelector('.button5').innerHTML=='X' && document.querySelector('.button2').innerHTML=='ㅤ' ){ document.querySelector('.button2').innerHTML='O'}
      else if (document.querySelector('.button3').innerHTML=='X' && document.querySelector('.button6').innerHTML=='X' && document.querySelector('.button9').innerHTML=='ㅤ' ){ document.querySelector('.button9').innerHTML='O'}
      else if (document.querySelector('.button9').innerHTML=='X' && document.querySelector('.button6').innerHTML=='X' && document.querySelector('.button3').innerHTML=='ㅤ' ){ document.querySelector('.button3').innerHTML='O'}
      else if (document.querySelector('.button9').innerHTML=='X' && document.querySelector('.button3').innerHTML=='X' && document.querySelector('.button6').innerHTML=='ㅤ' ){ document.querySelector('.button6').innerHTML='O'}
      else if (document.querySelector('.button1').innerHTML=='X' && document.querySelector('.button5').innerHTML=='X' && document.querySelector('.button9').innerHTML=='ㅤ' ){ document.querySelector('.button9').innerHTML='O'}
      else if (document.querySelector('.button5').innerHTML=='X' && document.querySelector('.button9').innerHTML=='X' && document.querySelector('.button1').innerHTML=='ㅤ' ){ document.querySelector('.button1').innerHTML='O'}
      else if (document.querySelector('.button1').innerHTML=='X' && document.querySelector('.button9').innerHTML=='X' && document.querySelector('.button5').innerHTML=='ㅤ' ){ document.querySelector('.button5').innerHTML='O'}
      else if (document.querySelector('.button3').innerHTML=='X' && document.querySelector('.button5').innerHTML=='X' && document.querySelector('.button7').innerHTML=='ㅤ' ){ document.querySelector('.button7').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='X' && document.querySelector('.button3').innerHTML=='X' && document.querySelector('.button5').innerHTML=='ㅤ' ){ document.querySelector('.button5').innerHTML='O'}
      else if (document.querySelector('.button7').innerHTML=='X' && document.querySelector('.button5').innerHTML=='X' && document.querySelector('.button3').innerHTML=='ㅤ' ){ document.querySelector('.button3').innerHTML='O'}
      else{
        let rndmonnumber= generateRandomNumber(1,10)
        while ((rndmonnumber==1 && document.querySelector('.button1').innerHTML!='ㅤ') || (rndmonnumber==2 && document.querySelector('.button2').innerHTML!='ㅤ')|| (rndmonnumber==3 && document.querySelector('.button3').innerHTML!='ㅤ') || (rndmonnumber==4 && document.querySelector('.button4').innerHTML!='ㅤ') || (rndmonnumber==5 && document.querySelector('.button5').innerHTML!='ㅤ')|| (rndmonnumber==6 && document.querySelector('.button6').innerHTML!='ㅤ') || (rndmonnumber==7 && document.querySelector('.button7').innerHTML!='ㅤ') || (rndmonnumber==8 && document.querySelector('.button8').innerHTML!='ㅤ') || (rndmonnumber==9 && document.querySelector('.button9').innerHTML!='ㅤ')){
          rndmonnumber= generateRandomNumber(1,10)
        }
        if (rndmonnumber==1){document.querySelector('.button1').innerHTML='O'}
        else if (rndmonnumber==2){document.querySelector('.button2').innerHTML='O'}
        else if (rndmonnumber==3){document.querySelector('.button3').innerHTML='O'}
        else if (rndmonnumber==4){document.querySelector('.button4').innerHTML='O'}
        else if (rndmonnumber==5){document.querySelector('.button5').innerHTML='O'}
        else if (rndmonnumber==6){document.querySelector('.button6').innerHTML='O'}
        else if (rndmonnumber==7){document.querySelector('.button7').innerHTML='O'}
        else if (rndmonnumber==8){document.querySelector('.button8').innerHTML='O'}
        else if (rndmonnumber==9){document.querySelector('.button9').innerHTML='O'}

      }
      
    }
    
        </script>
    </body>
</html>